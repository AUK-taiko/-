<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>アウクの選曲書庫</title>
</head>
<body>
  <h1>新しい曲を送る</h1>
  <input type="text" id="song" placeholder="曲名を入力">
  <button onclick="send()">送信</button>

  <script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbyX9U7BuwH-SA2kQfJcG-hdUqSsS42dq9hcEJhe9Kt4DQV4cwpDwcQJRCJfgVKQsB6D/exec";

    function send() {
      const song = document.getElementById("song").value;

      fetch(GAS_URL, {
        method: "POST",
        body: JSON.stringify({ song: song })
      })
      .then(res => res.json())
      .then(data => {
        alert(data.status);
      })
      .catch(error => {
        alert("送信に失敗しました");
        console.error(error);
      });
    }
  </script>
</body>
</html>
